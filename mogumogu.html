<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <meta http-equiv="Cache-Control" content="no-cache">
    <link rel ="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet">
    <link rel="preload" href="hungry.png" as="image">
    <link rel="preload" href="eat.png" as="image">
    <link rel="preload" href="oko.png" as="image">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/latest/TweenMax.min.js"></script>
    <title>お腹を空かせたお化けにご飯をあげよう！</title>
    <style>
/*
    Josh's Custom CSS Reset
    https://www.joshwcomeau.com/css/custom-css-reset/
*/
*,*::before,*::after{box-sizing:border-box}*{margin:0}html,body{height:100%}body{line-height:1.5;-webkit-font-smoothing:antialiased}img,picture,video,canvas,svg{display:block;max-width:100%}input,button,textarea,select{font:inherit}p,h1,h2,h3,h4,h5,h6{overflow-wrap:break-word}#root,#__next{isolation:isolate}


        body {
            background-color: #fafafa;
            font-family: "Helvetica Neue", Arial, "Hiragino Kaku Gothic ProN", "Hiragino Sans", Meiryo, sans-serif;
            min-height: 100vh;
            display: flex;
        }

        #loader {
          position: fixed;
          width: 100vw;
          height: 100vh;
          background-color: #fafafa;
          z-index: 100;
          top: 0;
          left: 0;
          display: flex;
          justify-content: center;
          align-items: center;
          animation: squigglevision 0.4s infinite alternate, fadeOut 1.5s;
          animation-fill-mode: both;
        }
        
        #loader svg {
            width: 50vw;
            height: 50vh

        }
        @keyframes squigglevision {
          0% {
            filter: url("#turbulence-1");
          }
          25% {
            filter: url("#turbulence-2");
          }
          50% {
            filter: url("#turbulence-3");
          }
          75% {
            filter: url("#turbulence-4");
          }
          100% {
            filter: url("#turbulence-5");
          }
        }
        .fadeOut {
            animation: fadeOut 1.5s;
            animation-fill-mode: both;
        }
        @keyframes fadeOut {
          0% {
            opacity: 1;
          }
          100% {
            opacity: 0;
          }
        }

        .content {
            border: 1px;
            padding: 30px;
            min-height: 600px;
            width: 100%;
            position: relative;

            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
        }

        h1 {
            font-size: 20px;
            margin: 0px 0px 10px 0px;
        }

        p {
            font-size: 18px;
        }

        label {
            display: block;
            margin-bottom: .8em;
        }

        button {
            appearance: none;
            border: 0;
            border-radius: 5px;
            background: #4676D7;
            color: #fff;
            padding: 8px 16px;
        }

        button:hover {
          background: #1d49aa;
        }

        button:focus {
          outline: none;
          box-shadow: 0 0 0 4px #cbd6ee;
        }
        button:disabled {
          background: #cccccc;
        }

        #obake{
            position: absolute;
            bottom: 0;            
            transform-origin: bottom left;
            width: 500px;
            height: 500px;
            z-index: -1;
        }
        
        @keyframes play-hungry {
          from {
            background-position: 0px;
          }
          to {
            background-position: -8000px;
          }
        }

        @keyframes play-eat {
          from {
            background-position: 0px;
          }
          to {
            background-position: -8500px;
          }
        }

        @keyframes play-oko {
          from {
            background-position: 0px;
          }
          to {
            background-position: -5000px;
          }
        }


        #eat-counter {
            font-family: 'Roboto Mono', monospace;
            font-size: 1.5em;
        }
        #kcal {
            font-family: 'Roboto Mono', monospace;
            font-size: 0.8em;
            padding : 0px 5px
        }
        #increase {
            font-family: 'Roboto Mono', monospace;
            font-size: 0.8em;
            position: absolute;
        }


        #dish {
            font-size: 1.2em;
            width: 50vw;
        }

        .create-dish {
            position: absolute;
            font-size: 1.2em;
            padding : 5px 4px
        }

        @media only screen and (max-width: 650px) {
            #dish {
                width: 60vw;
            }

            .break{
                display: block;
            }
        }
    </style>
</head>
<body>
    <div id="loader">
      <svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="1000px" height="1000px" viewBox="0 0 1000 1000" style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd" xmlns:xlink="http://www.w3.org/1999/xlink">
      <g><path style="opacity:0.968" fill="#754721" d="M 543.5,100.5 C 546.673,100.401 549.673,101.068 552.5,102.5C 555.5,101.833 558.5,101.167 561.5,100.5C 567.099,102.187 572.765,103.687 578.5,105C 580.5,106.333 582.5,107.667 584.5,109C 597.874,111.663 609.874,116.996 620.5,125C 627.625,125.801 633.625,128.801 638.5,134C 642.268,134.581 644.935,136.581 646.5,140C 649.623,140.206 652.623,140.873 655.5,142C 665.388,148.436 675.054,155.103 684.5,162C 689.249,165.069 694.249,167.736 699.5,170C 702.758,174.597 707.091,177.597 712.5,179C 720.378,187.876 727.878,197.043 735,206.5C 736.949,210.312 736.615,213.979 734,217.5C 730.844,219.657 728.011,222.157 725.5,225C 721.557,225.538 717.724,225.038 714,223.5C 709.88,226.983 705.38,227.483 700.5,225C 698.627,223.915 696.96,222.582 695.5,221C 691.833,220.667 688.167,220.333 684.5,220C 684,219.5 683.5,219 683,218.5C 679.391,222.006 675.391,222.339 671,219.5C 668.094,220.412 665.427,219.746 663,217.5C 654.149,218.266 645.316,218.266 636.5,217.5C 638.226,219.228 639.559,221.228 640.5,223.5C 640.291,224.086 639.957,224.586 639.5,225C 643.051,226.761 644.051,229.428 642.5,233C 643.416,233.374 644.25,233.874 645,234.5C 647.603,239.559 649.603,244.893 651,250.5C 652.572,254.641 654.905,258.308 658,261.5C 660.176,269.786 662.843,277.786 666,285.5C 668.848,288.181 670.515,291.514 671,295.5C 673.59,300.349 675.924,305.349 678,310.5C 678.711,312.899 678.544,315.232 677.5,317.5C 680.731,321.866 683.231,326.532 685,331.5C 686.31,335.07 687.143,338.737 687.5,342.5C 693.549,343.47 699.383,345.137 705,347.5C 708.073,346.383 711.24,346.216 714.5,347C 716.929,349.095 719.596,349.595 722.5,348.5C 731.279,350.362 739.946,352.528 748.5,355C 750.585,357.774 753.085,358.274 756,356.5C 760.28,357.446 764.446,358.779 768.5,360.5C 772.159,359.523 775.826,359.69 779.5,361C 787.327,363.623 795.327,365.623 803.5,367C 804.328,367.915 805.328,368.581 806.5,369C 809.167,369.333 811.833,369.667 814.5,370C 816.333,370.5 817.5,371.667 818,373.5C 820.401,372.398 822.901,372.231 825.5,373C 829.508,374.729 833.508,376.562 837.5,378.5C 842.537,377.673 846.87,379.173 850.5,383C 854.251,383.749 857.918,384.749 861.5,386C 865.356,389.357 869.356,392.524 873.5,395.5C 874.473,398.779 875.973,401.779 878,404.5C 878.365,411.182 876.198,417.015 871.5,422C 865.74,424.419 859.74,426.419 853.5,428C 850.139,428.337 846.806,428.837 843.5,429.5C 840.502,428.217 837.668,428.55 835,430.5C 833.667,429.833 832.333,429.167 831,428.5C 829.448,429.966 827.614,430.966 825.5,431.5C 822.535,430.727 819.535,430.061 816.5,429.5C 809.631,429.686 802.631,430.353 795.5,431.5C 793.005,429.95 790.505,429.617 788,430.5C 784.129,429.954 780.296,429.288 776.5,428.5C 772.691,430.928 768.858,430.928 765,428.5C 752.39,427.804 739.724,427.804 727,428.5C 725.013,427.782 723.179,426.782 721.5,425.5C 719.979,426.937 718.145,427.604 716,427.5C 711.81,426.421 707.644,426.421 703.5,427.5C 706.258,435.052 707.591,442.719 707.5,450.5C 708.48,451.981 709.647,453.315 711,454.5C 711.303,458.529 711.803,462.529 712.5,466.5C 711.051,468.608 711.551,470.275 714,471.5C 715.262,475.004 715.429,478.504 714.5,482C 715.848,483.555 716.514,485.389 716.5,487.5C 716.532,494.123 716.198,500.623 715.5,507C 715.468,508.971 716.302,510.471 718,511.5C 718.208,517.551 718.708,523.551 719.5,529.5C 719.293,537.337 719.293,545.171 719.5,553C 718.926,556.689 718.259,560.356 717.5,564C 719.995,571.02 719.995,578.02 717.5,585C 719.69,596.231 720.023,607.564 718.5,619C 719.064,621.526 719.731,624.026 720.5,626.5C 719.163,632.478 718.496,638.311 718.5,644C 719,644.5 719.5,645 720,645.5C 719.912,653.731 721.078,661.731 723.5,669.5C 722.997,677.486 723.497,685.486 725,693.5C 728.005,701.171 730.005,709.171 731,717.5C 733.732,720.7 735.732,724.366 737,728.5C 743.28,734.441 749.113,740.608 754.5,747C 757.377,748.127 760.377,748.794 763.5,749C 764.931,749.465 766.097,750.299 767,751.5C 769.048,750.577 770.881,751.077 772.5,753C 775.894,753.752 779.227,753.585 782.5,752.5C 783.748,753.04 784.915,753.707 786,754.5C 790.741,754.236 795.575,754.069 800.5,754C 805.941,751.759 811.775,751.259 818,752.5C 820.328,752.183 822.161,751.016 823.5,749C 825.568,748.313 827.568,748.48 829.5,749.5C 841.691,741.346 854.358,740.513 867.5,747C 870.353,749.54 872.02,752.707 872.5,756.5C 870.902,765.182 867.569,773.015 862.5,780C 855.067,783.098 850.067,788.431 847.5,796C 830.628,808.685 813.295,820.852 795.5,832.5C 794.914,832.291 794.414,831.957 794,831.5C 790.572,835.268 786.405,837.768 781.5,839C 779.699,842.657 776.699,844.49 772.5,844.5C 770.603,847.789 767.937,848.789 764.5,847.5C 762.35,849.149 760.35,850.982 758.5,853C 756.5,853.333 754.5,853.667 752.5,854C 749.234,857.051 745.567,859.385 741.5,861C 737.268,862.3 733.102,863.8 729,865.5C 728.127,865.265 727.293,864.931 726.5,864.5C 725.059,865.865 723.726,867.365 722.5,869C 719.475,869.133 716.808,870.133 714.5,872C 711.5,872.333 708.5,872.667 705.5,873C 704.5,874 703.5,875 702.5,876C 697.594,877.476 692.594,878.476 687.5,879C 685.5,880 683.5,881 681.5,882C 669.811,884.851 658.144,887.684 646.5,890.5C 645.558,890.392 644.725,890.059 644,889.5C 640.334,891.096 636.501,892.429 632.5,893.5C 630.726,893.113 629.059,892.447 627.5,891.5C 622.464,895.179 617.13,895.846 611.5,893.5C 609.116,895.051 606.616,896.385 604,897.5C 601.139,896.954 598.473,895.954 596,894.5C 592.911,895.051 590.078,896.217 587.5,898C 581.674,898.95 576.007,898.45 570.5,896.5C 566.946,897.721 563.446,897.721 560,896.5C 558.527,898.007 556.693,898.674 554.5,898.5C 550.937,898.154 547.437,897.487 544,896.5C 536.871,897.614 529.704,897.781 522.5,897C 520.112,896.697 517.945,895.863 516,894.5C 507.348,895.691 499.015,894.358 491,890.5C 487.175,892.135 483.842,891.468 481,888.5C 480.127,888.735 479.293,889.069 478.5,889.5C 473.91,888.039 469.244,886.873 464.5,886C 458.624,883.794 452.957,881.127 447.5,878C 441.49,877.63 436.157,875.63 431.5,872C 421.493,869.994 412.827,865.327 405.5,858C 403.048,857.71 400.715,857.044 398.5,856C 396.23,851.395 392.564,848.728 387.5,848C 386.128,846.758 385.128,845.258 384.5,843.5C 380.281,842.4 377.281,839.9 375.5,836C 372.833,834.333 370.167,832.667 367.5,831C 363.666,827.074 360.333,822.741 357.5,818C 352.928,816.929 350.261,814.096 349.5,809.5C 346.352,808.279 344.518,805.946 344,802.5C 340.263,800.702 338.263,797.702 338,793.5C 336.354,791.403 334.354,789.736 332,788.5C 328.641,783.917 326.141,778.917 324.5,773.5C 321.133,770.252 318.466,766.586 316.5,762.5C 314.17,758.835 312.67,754.835 312,750.5C 310.114,749.07 308.447,747.403 307,745.5C 303.702,739.277 301.368,732.61 300,725.5C 298.701,722.245 297.035,719.245 295,716.5C 294.055,712.886 293.388,709.219 293,705.5C 292.333,704.833 291.667,704.167 291,703.5C 288.943,707.223 285.943,709.89 282,711.5C 280.165,716.177 276.665,718.511 271.5,718.5C 265.615,719.576 260.615,717.743 256.5,713C 255.167,712.667 253.833,712.333 252.5,712C 251.023,709.555 249.19,707.388 247,705.5C 246.16,701.937 244.826,698.603 243,695.5C 242.424,693.623 242.591,691.789 243.5,690C 241.957,686.662 240.957,683.162 240.5,679.5C 241.001,671.46 242.501,663.46 245,655.5C 246.596,651.582 248.596,647.915 251,644.5C 256.616,638.762 262.116,632.929 267.5,627C 269.332,626.252 270.999,625.252 272.5,624C 270.99,622.649 269.99,620.982 269.5,619C 269.34,614.894 269.673,610.727 270.5,606.5C 270.196,604.559 269.363,602.893 268,601.5C 268.58,598.046 268.08,594.879 266.5,592C 266.975,590.237 267.642,588.57 268.5,587C 266.615,584.312 266.282,581.478 267.5,578.5C 266.732,572.867 266.066,567.2 265.5,561.5C 266.574,557.185 266.574,552.852 265.5,548.5C 265.596,544.856 266.262,541.356 267.5,538C 266.106,537.044 265.439,535.711 265.5,534C 266.907,529.676 267.24,525.342 266.5,521C 266.99,519.018 267.99,517.351 269.5,516C 267.934,514.316 266.934,512.316 266.5,510C 267.521,505.388 268.854,500.888 270.5,496.5C 269.586,485.319 271.919,474.819 277.5,465C 276.982,463.374 276.648,461.707 276.5,460C 277.983,455.702 278.817,451.202 279,446.5C 279.934,443.12 281.601,440.12 284,437.5C 284.263,432.995 285.263,428.661 287,424.5C 289.904,421.358 291.738,417.691 292.5,413.5C 290.116,413.557 287.782,413.223 285.5,412.5C 280.268,413.988 274.934,414.988 269.5,415.5C 267.407,415.514 265.574,414.848 264,413.5C 261.433,415.305 258.599,416.638 255.5,417.5C 251.578,418.086 247.745,417.419 244,415.5C 239.366,418.625 234.366,419.291 229,417.5C 213.67,420.911 198.17,421.245 182.5,418.5C 180.937,420.402 178.937,421.402 176.5,421.5C 171.316,421.228 165.982,420.562 160.5,419.5C 157.328,419.449 154.328,420.116 151.5,421.5C 148.324,420.219 145.158,420.219 142,421.5C 137.332,419.754 132.998,417.42 129,414.5C 126.346,410.537 123.68,406.537 121,402.5C 119.807,391.039 124.641,383.539 135.5,380C 136.743,378.846 137.743,377.512 138.5,376C 145.174,374.115 151.84,372.448 158.5,371C 161.711,369.148 165.044,367.481 168.5,366C 177.237,364.232 185.904,362.566 194.5,361C 198.442,360.285 202.109,358.952 205.5,357C 207.769,356.242 209.936,356.409 212,357.5C 213.648,356.283 215.481,355.45 217.5,355C 221.5,354.667 225.5,354.333 229.5,354C 233.792,352.027 238.292,350.527 243,349.5C 248.685,350.132 254.185,349.132 259.5,346.5C 261.029,346.529 262.196,347.196 263,348.5C 264.419,347.54 265.919,346.707 267.5,346C 274.458,344.134 281.458,343.468 288.5,344C 291.053,342.624 293.72,341.457 296.5,340.5C 300.381,340.228 304.381,340.561 308.5,341.5C 313.943,340.867 319.276,339.867 324.5,338.5C 324.953,335.537 326.453,333.204 329,331.5C 332.097,322.315 337.431,314.648 345,308.5C 346.072,303.762 348.405,299.762 352,296.5C 352.725,294.051 353.725,291.717 355,289.5C 359.746,286.331 362.746,281.997 364,276.5C 368.334,273.359 372.001,269.692 375,265.5C 375.471,263.754 376.138,262.087 377,260.5C 382.131,255.691 386.131,250.024 389,243.5C 393.882,239.949 397.216,235.283 399,229.5C 405.273,223.642 410.606,216.975 415,209.5C 416.067,208.809 417.234,208.309 418.5,208C 422.941,199.623 429.108,192.79 437,187.5C 437.839,183.329 440.172,180.329 444,178.5C 445.314,175.539 446.981,172.872 449,170.5C 452.257,169.334 454.09,167.001 454.5,163.5C 459.205,162.294 462.038,159.294 463,154.5C 466.657,151.223 470.323,147.889 474,144.5C 475.193,140.64 477.693,138.14 481.5,137C 482.13,135.108 483.13,133.441 484.5,132C 491.374,128.464 497.041,123.464 501.5,117C 511.791,109.274 523.291,104.107 536,101.5C 538.871,103.139 541.371,102.805 543.5,100.5 Z"/></g>
      <g><path style="opacity:1" fill="#8166a2" d="M 534.5,113.5 C 545.09,113.647 555.59,113.647 566,113.5C 577.693,118.381 589.527,122.881 601.5,127C 607.61,132.312 614.61,135.812 622.5,137.5C 632.148,142.943 641.481,149.109 650.5,156C 654.724,158.279 659.057,160.279 663.5,162C 666.126,166.652 670.126,169.318 675.5,170C 681.631,174.903 687.964,179.57 694.5,184C 696.895,184.681 699.228,185.515 701.5,186.5C 706.658,191.49 711.991,196.323 717.5,201C 720.399,203.962 722.399,207.462 723.5,211.5C 721.997,212.557 720.33,213.224 718.5,213.5C 715.61,212.315 712.776,212.315 710,213.5C 700.587,210.585 690.92,208.585 681,207.5C 674.716,208.294 668.549,207.627 662.5,205.5C 660.626,205.39 659.126,206.056 658,207.5C 656.874,206.056 655.374,205.39 653.5,205.5C 647.639,207.246 642.139,206.58 637,203.5C 635.486,203.77 633.986,204.103 632.5,204.5C 630.041,202.697 627.374,201.363 624.5,200.5C 624.174,195.98 623.007,191.647 621,187.5C 619.277,184.275 616.777,181.942 613.5,180.5C 610.196,180.634 608.53,182.3 608.5,185.5C 610.719,189.48 611.886,193.813 612,198.5C 614.573,203.572 617.74,208.239 621.5,212.5C 621.765,216.171 623.265,219.171 626,221.5C 631.618,235.694 637.618,249.694 644,263.5C 645.154,264.743 646.488,265.743 648,266.5C 649.354,275.958 652.687,284.625 658,292.5C 657.516,297.196 659.183,300.863 663,303.5C 663.483,304.448 663.649,305.448 663.5,306.5C 648.692,304.411 633.858,302.411 619,300.5C 616.207,300.305 613.707,300.971 611.5,302.5C 607.691,301.064 603.857,299.73 600,298.5C 598.135,298.706 596.468,299.372 595,300.5C 591.152,298.235 586.985,297.068 582.5,297C 575.976,296.734 569.476,296.234 563,295.5C 561.634,295.706 560.301,296.04 559,296.5C 552.566,294.539 546.066,294.206 539.5,295.5C 532.934,293.08 526.268,293.08 519.5,295.5C 514.016,293.488 508.35,292.988 502.5,294C 502,294.5 501.5,295 501,295.5C 500.044,294.106 498.711,293.439 497,293.5C 494.521,294.687 492.021,294.687 489.5,293.5C 484.028,295.346 478.528,295.68 473,294.5C 464.012,296.161 455.012,296.495 446,295.5C 442.661,295.423 439.495,296.09 436.5,297.5C 427.73,295.745 419.23,296.411 411,299.5C 409.374,298.982 407.707,298.648 406,298.5C 398.634,298.981 391.468,300.148 384.5,302C 378.167,302.333 371.833,302.667 365.5,303C 364.584,303.374 363.75,303.874 363,304.5C 363.823,301.665 364.656,298.665 365.5,295.5C 366.748,294.96 367.915,294.293 369,293.5C 372.88,285.959 377.88,279.292 384,273.5C 385.116,269.327 387.449,265.993 391,263.5C 391.456,259.706 393.456,257.039 397,255.5C 397.895,253.196 398.729,250.862 399.5,248.5C 405.259,244.399 409.592,239.066 412.5,232.5C 416.475,230.358 419.642,227.358 422,223.5C 422.202,221.744 422.702,220.078 423.5,218.5C 428.859,216.305 431.693,212.305 432,206.5C 439.384,202.116 445.051,196.116 449,188.5C 452.833,184.833 456.667,181.167 460.5,177.5C 465.142,171.358 470.308,165.692 476,160.5C 477.559,158.783 478.392,156.783 478.5,154.5C 483.167,154.5 485.5,152.167 485.5,147.5C 486.552,147.649 487.552,147.483 488.5,147C 490.461,144.037 492.794,141.371 495.5,139C 499.493,136.048 503.493,133.048 507.5,130C 509.167,127.667 510.833,125.333 512.5,123C 516.917,122.866 520.584,121.199 523.5,118C 526.471,117.206 529.471,116.539 532.5,116C 533.381,115.292 534.047,114.458 534.5,113.5 Z"/></g>
      <g><path style="opacity:1" fill="#e8a34a" d="M 528.5,303.5 C 531.674,304.015 534.674,305.015 537.5,306.5C 541.299,306.346 545.133,306.012 549,305.5C 552.702,308.242 556.702,308.908 561,307.5C 571.818,308.316 582.651,309.15 593.5,310C 608.415,311.924 623.415,313.591 638.5,315C 646.451,317.132 654.451,318.965 662.5,320.5C 664.135,319.954 665.801,319.62 667.5,319.5C 668.023,322.89 668.857,326.223 670,329.5C 672.527,333.19 674.36,337.19 675.5,341.5C 667.847,341.439 660.347,340.439 653,338.5C 649.253,340.162 645.753,339.828 642.5,337.5C 636.904,338.779 631.57,338.113 626.5,335.5C 620.307,337.099 614.307,336.766 608.5,334.5C 585.49,334.049 562.323,334.049 539,334.5C 530.345,333.803 521.679,333.137 513,332.5C 498.847,333.227 484.68,333.227 470.5,332.5C 457.933,333.782 445.433,334.782 433,335.5C 427.101,333.567 421.101,333.567 415,335.5C 400.677,335.203 386.344,335.869 372,337.5C 369.485,337.276 366.985,336.943 364.5,336.5C 356.691,338.474 348.691,339.308 340.5,339C 339.572,338.612 338.905,337.945 338.5,337C 339.535,335.726 340.702,334.56 342,333.5C 342.774,329.951 344.107,326.618 346,323.5C 348.988,321.51 351.655,319.177 354,316.5C 354.725,317.059 355.558,317.392 356.5,317.5C 377,312.982 397.667,310.482 418.5,310C 427.968,308.28 437.468,306.78 447,305.5C 448.928,305.933 450.761,306.6 452.5,307.5C 459.864,307.688 467.198,307.022 474.5,305.5C 478.404,305.297 482.071,305.964 485.5,307.5C 488.771,305.284 492.271,304.95 496,306.5C 504.663,303.514 513.163,303.848 521.5,307.5C 524.12,306.53 526.453,305.196 528.5,303.5 Z"/></g>
      <g><path style="opacity:1" fill="#776292" d="M 481.5,343.5 C 486.727,343.093 491.727,343.76 496.5,345.5C 504.352,346.082 512.185,345.415 520,343.5C 523.249,344.27 526.415,345.27 529.5,346.5C 532.926,345.435 536.426,344.768 540,344.5C 543.861,345.511 547.694,345.511 551.5,344.5C 552.938,344.719 554.271,345.219 555.5,346C 562.879,346.522 570.045,346.355 577,345.5C 584.962,348.07 592.962,348.07 601,345.5C 603.912,347.066 607.079,347.899 610.5,348C 637.191,349.444 663.524,351.611 689.5,354.5C 689.709,355.086 690.043,355.586 690.5,356C 694.192,355.996 697.525,356.996 700.5,359C 707.361,359.199 714.027,360.365 720.5,362.5C 722.167,361.833 723.833,361.167 725.5,360.5C 727.452,361.208 729.119,362.375 730.5,364C 747.258,368.46 764.258,371.626 781.5,373.5C 784.155,375.494 787.155,376.994 790.5,378C 793.486,377.872 796.486,377.872 799.5,378C 802.447,381.014 806.113,382.348 810.5,382C 814.348,384.668 818.515,385.168 823,383.5C 826.051,384.546 828.551,386.379 830.5,389C 834.797,390.158 839.131,391.158 843.5,392C 851.983,395.419 859.317,400.586 865.5,407.5C 864.96,408.748 864.293,409.915 863.5,411C 859.482,411.919 855.815,413.586 852.5,416C 850.473,416.498 848.473,416.331 846.5,415.5C 844.896,415.939 843.396,416.606 842,417.5C 839.029,415.898 836.362,416.231 834,418.5C 818.366,418.453 802.699,418.453 787,418.5C 775.875,416.482 764.709,415.815 753.5,416.5C 746.358,414.595 739.025,414.095 731.5,415C 730.975,415.692 730.308,416.192 729.5,416.5C 728.312,415.16 726.812,414.493 725,414.5C 717.901,413.813 710.734,413.813 703.5,414.5C 701.533,411.41 699.033,408.743 696,406.5C 696.039,402.369 694.205,399.369 690.5,397.5C 690.813,390.955 688.146,386.121 682.5,383C 674.928,382.423 667.595,380.923 660.5,378.5C 659.446,378.68 658.446,379.013 657.5,379.5C 650.848,376.599 644.014,375.932 637,377.5C 632.406,374.383 627.406,373.717 622,375.5C 615.701,374.095 609.368,372.761 603,371.5C 601.289,371.439 599.956,372.106 599,373.5C 586.793,370.087 574.459,369.087 562,370.5C 557.379,369.508 552.712,368.841 548,368.5C 542.318,369.614 536.652,369.614 531,368.5C 527.322,368.934 523.822,369.934 520.5,371.5C 519.3,370.469 517.966,369.635 516.5,369C 513.167,368.833 509.833,368.667 506.5,368.5C 489.373,368.615 472.206,368.615 455,368.5C 451.991,369.003 449.158,370.003 446.5,371.5C 444.525,369.679 442.191,368.679 439.5,368.5C 434.526,368.6 430.026,369.934 426,372.5C 420.682,371.779 415.348,371.112 410,370.5C 407.825,370.834 405.992,371.834 404.5,373.5C 400.24,372.463 395.906,371.796 391.5,371.5C 382.877,372.853 374.211,373.853 365.5,374.5C 364.167,374.167 362.833,373.833 361.5,373.5C 359.369,374.963 357.035,375.963 354.5,376.5C 352.084,376.125 349.75,375.459 347.5,374.5C 336.843,376 326.176,377.5 315.5,379C 311.351,381.819 307.517,384.986 304,388.5C 303.258,393.151 301.092,396.984 297.5,400C 290.989,400.068 284.656,401.068 278.5,403C 272.979,403.652 267.479,403.486 262,402.5C 253.422,403.648 244.755,404.981 236,406.5C 226.623,405.233 217.123,405.733 207.5,408C 207,408.5 206.5,409 206,409.5C 202.561,406.982 199.061,406.982 195.5,409.5C 180.153,409.946 164.819,409.28 149.5,407.5C 139.747,410.203 134.413,406.537 133.5,396.5C 133.876,394.617 134.876,393.117 136.5,392C 146.42,386.465 157.087,382.465 168.5,380C 170.043,378.286 171.71,376.786 173.5,375.5C 177.465,376.53 181.465,376.697 185.5,376C 196.002,372.831 206.668,370.164 217.5,368C 218.167,367.333 218.833,366.667 219.5,366C 231.97,364.566 244.304,362.899 256.5,361C 261.314,360.138 265.981,358.638 270.5,356.5C 271.446,356.987 272.446,357.32 273.5,357.5C 279.713,355.912 286.047,355.079 292.5,355C 298.521,351.64 304.688,351.14 311,353.5C 318.222,353.21 325.389,351.877 332.5,349.5C 346.892,350.363 361.226,350.363 375.5,349.5C 384.495,348.208 393.495,346.874 402.5,345.5C 410.01,348.058 417.343,347.725 424.5,344.5C 430.308,347.087 436.141,347.087 442,344.5C 444.092,344.879 446.092,345.546 448,346.5C 450.488,345.244 452.988,345.244 455.5,346.5C 456.737,346.444 457.737,345.944 458.5,345C 466.344,344.829 474.011,344.329 481.5,343.5 Z"/></g>
      <g><path style="opacity:1" fill="#fefefe" d="M 498.5,378.5 C 502.504,379.804 506.671,380.804 511,381.5C 517.646,381.659 524.146,381.325 530.5,380.5C 546.345,381.01 562.179,382.01 578,383.5C 579.928,383.067 581.761,382.4 583.5,381.5C 585.687,382.758 588.02,383.758 590.5,384.5C 591.554,384.32 592.554,383.987 593.5,383.5C 620.399,385.542 647.065,388.875 673.5,393.5C 675.835,396.166 677.669,399.166 679,402.5C 679.75,403.126 680.584,403.626 681.5,404C 680.446,405.388 680.28,406.888 681,408.5C 683.333,412.833 685.667,417.167 688,421.5C 689.397,426.198 690.73,430.864 692,435.5C 694.598,437.017 695.098,439.017 693.5,441.5C 695.437,449.154 697.771,456.654 700.5,464C 699.254,469.779 700.088,475.279 703,480.5C 703.32,485.023 703.82,489.523 704.5,494C 704.34,500.362 704.34,506.695 704.5,513C 706.722,518.003 707.055,523.17 705.5,528.5C 705.618,533.098 706.618,537.431 708.5,541.5C 705.878,545.273 705.878,549.106 708.5,553C 705.905,559.096 705.905,565.263 708.5,571.5C 706.974,574.76 706.307,578.26 706.5,582C 705.897,591.527 706.564,601.027 708.5,610.5C 705.954,619.38 705.954,628.214 708.5,637C 708.094,639.657 707.76,642.324 707.5,645C 708.175,652.821 708.675,660.654 709,668.5C 712.882,685.647 716.215,702.981 719,720.5C 721.237,722.647 723.237,724.98 725,727.5C 727.311,733.435 729.978,739.101 733,744.5C 734.011,745.337 735.178,745.67 736.5,745.5C 737.015,749.453 739.348,751.619 743.5,752C 745.167,753.667 746.833,755.333 748.5,757C 756.139,759.068 763.472,761.734 770.5,765C 786.859,765.806 803.192,765.473 819.5,764C 829.556,760.813 839.556,757.313 849.5,753.5C 860.496,754.267 862.33,758.601 855,766.5C 853.872,768.345 853.372,770.345 853.5,772.5C 852.448,772.351 851.448,772.517 850.5,773C 843.963,779.058 838.297,785.725 833.5,793C 826.104,794.547 820.104,798.381 815.5,804.5C 813.5,805.333 811.5,806.167 809.5,807C 807.289,809.785 804.623,812.118 801.5,814C 797.706,814.456 795.039,816.456 793.5,820C 791.212,820.822 788.878,821.489 786.5,822C 783.726,826.388 779.726,828.722 774.5,829C 768.666,833.139 762.333,836.473 755.5,839C 754.743,840.512 753.743,841.846 752.5,843C 748.344,843.414 744.344,844.414 740.5,846C 739.257,847.154 738.257,848.488 737.5,850C 728.782,852.461 720.115,855.128 711.5,858C 710.833,858.667 710.167,859.333 709.5,860C 703.139,860.507 697.472,862.673 692.5,866.5C 685.208,867.03 678.374,869.03 672,872.5C 669.599,871.398 667.099,871.231 664.5,872C 659.984,873.834 655.484,875.667 651,877.5C 649.938,876.903 648.772,876.57 647.5,876.5C 632.35,880.149 616.85,882.815 601,884.5C 598.803,884.349 596.636,884.015 594.5,883.5C 590.59,885.318 586.423,886.318 582,886.5C 573.055,885.491 564.222,885.491 555.5,886.5C 550.199,885.615 544.865,884.948 539.5,884.5C 536.989,884.288 534.822,884.955 533,886.5C 529.899,884.28 526.565,883.947 523,885.5C 522.097,884.299 520.931,883.465 519.5,883C 514.5,882.667 509.5,882.333 504.5,882C 502.382,881.365 500.382,880.531 498.5,879.5C 493.382,881.147 488.716,880.314 484.5,877C 479.877,876.042 475.21,875.375 470.5,875C 461.655,870.782 452.321,867.782 442.5,866C 440.947,864.903 439.614,863.57 438.5,862C 432.043,858.545 425.376,855.545 418.5,853C 411.444,847.971 404.111,843.305 396.5,839C 393.945,835.428 390.612,833.095 386.5,832C 381.772,824.666 375.772,818.666 368.5,814C 367.333,811.5 365.5,809.667 363,808.5C 361.592,804.444 358.925,801.444 355,799.5C 350.911,794.36 347.578,788.693 345,782.5C 343.989,781.663 342.822,781.33 341.5,781.5C 341.805,777.773 340.305,775.106 337,773.5C 336.225,769.597 334.225,766.597 331,764.5C 329.956,762.285 329.29,759.952 329,757.5C 325.394,754.231 323.061,750.231 322,745.5C 320.667,744.167 319.333,742.833 318,741.5C 317.305,734.789 314.971,728.789 311,723.5C 310.206,720.529 309.539,717.529 309,714.5C 305.237,711.133 303.57,706.8 304,701.5C 302.92,697.012 301.42,692.678 299.5,688.5C 302.833,688.5 304.5,686.833 304.5,683.5C 307.908,684.172 310.575,683.172 312.5,680.5C 321.976,676.306 331.976,674.139 342.5,674C 346.5,670.667 346.5,667.333 342.5,664C 339.318,663.593 336.151,663.093 333,662.5C 327.718,664.891 322.218,665.724 316.5,665C 315.167,665.667 314.167,666.667 313.5,668C 308.091,667.371 304.091,669.371 301.5,674C 291.305,679.146 284.472,687.313 281,698.5C 278.205,700.293 275.705,702.46 273.5,705C 270.5,705.667 267.5,705.667 264.5,705C 262.367,702.49 259.867,700.324 257,698.5C 256.803,695.308 255.97,692.308 254.5,689.5C 256.075,685.873 255.408,682.707 252.5,680C 254.875,674.807 256.041,669.307 256,663.5C 257.772,659.253 259.439,654.92 261,650.5C 267.207,644.625 273.707,639.125 280.5,634C 288.805,632.174 297.139,630.507 305.5,629C 308.338,624.847 307.672,621.18 303.5,618C 299.789,617.561 296.122,617.894 292.5,619C 289.721,620.722 286.721,621.889 283.5,622.5C 282.382,619.822 282.382,617.155 283.5,614.5C 281.844,608.639 280.511,602.639 279.5,596.5C 278.889,588.028 278.889,579.695 279.5,571.5C 278.076,569.255 277.41,566.755 277.5,564C 278.646,558.01 278.646,552.01 277.5,546C 278.645,535.172 279.645,524.339 280.5,513.5C 280.244,512.311 279.911,511.144 279.5,510C 282.394,503.444 283.061,496.61 281.5,489.5C 281.602,486.63 282.768,484.297 285,482.5C 286.829,474.002 288.162,465.335 289,456.5C 289.919,452.482 291.586,448.815 294,445.5C 294.172,441.129 294.672,436.796 295.5,432.5C 297.258,431.872 298.758,430.872 300,429.5C 301.83,424.497 303.496,419.497 305,414.5C 306,413.833 307,413.167 308,412.5C 307.352,407.129 309.352,403.129 314,400.5C 314.333,398.833 314.667,397.167 315,395.5C 317.391,393.234 319.891,391.067 322.5,389C 326.696,388.336 330.862,388.503 335,389.5C 337.639,387.554 340.639,386.554 344,386.5C 349.2,387.277 354.367,387.61 359.5,387.5C 361.839,387.331 364.006,386.664 366,385.5C 370.672,387.124 375.005,386.457 379,383.5C 380.396,384.394 381.896,385.061 383.5,385.5C 391.018,381.97 398.685,381.637 406.5,384.5C 407.938,384.281 409.271,383.781 410.5,383C 420.244,382.91 429.91,382.076 439.5,380.5C 454.488,380.516 469.488,380.85 484.5,381.5C 489.265,380.332 493.932,379.332 498.5,378.5 Z"/></g>
      <g><path style="opacity:1" fill="#764721" d="M 525.5,451.5 C 535.561,451.54 543.061,455.873 548,464.5C 547.952,468.521 548.952,472.187 551,475.5C 553.697,490.885 552.364,505.885 547,520.5C 539.851,532.505 530.351,534.671 518.5,527C 516.971,523.971 514.638,521.805 511.5,520.5C 509.705,515.494 508.038,510.494 506.5,505.5C 506.972,503.693 507.306,501.86 507.5,500C 506.76,494.342 506.094,488.676 505.5,483C 505.615,478.32 507.115,474.153 510,470.5C 509.416,464.422 511.583,459.588 516.5,456C 519.84,454.997 522.84,453.497 525.5,451.5 Z"/></g>
      <g><path style="opacity:1" fill="#764721" d="M 367.5,456.5 C 370.839,456.89 374.173,457.39 377.5,458C 382.959,462.798 386.792,468.631 389,475.5C 389.505,482.871 390.338,490.205 391.5,497.5C 389.745,500.905 389.412,504.405 390.5,508C 389.328,521.844 382.162,531.01 369,535.5C 360.141,534.655 354.141,529.988 351,521.5C 348.434,514.229 346.601,506.895 345.5,499.5C 345.596,494.592 345.763,489.592 346,484.5C 346.452,481.123 347.118,477.789 348,474.5C 351.346,472.485 353.013,469.485 353,465.5C 354.356,464.62 355.856,464.286 357.5,464.5C 357.286,462.856 357.62,461.356 358.5,460C 361.459,458.396 364.459,457.229 367.5,456.5 Z"/></g>
      <g><path style="opacity:1" fill="#754721" d="M 472.5,545.5 C 479.506,544.907 486.173,546.074 492.5,549C 495.009,552.21 497.842,555.043 501,557.5C 505.949,571.006 503.449,583.006 493.5,593.5C 489.962,593.964 486.962,595.464 484.5,598C 480.482,598.786 476.649,599.952 473,601.5C 467.209,601.158 461.376,600.991 455.5,601C 452.34,599.756 449.007,598.922 445.5,598.5C 439.367,601.291 433.033,602.291 426.5,601.5C 424.137,602.677 421.637,603.343 419,603.5C 413.516,602.163 408.016,600.663 402.5,599C 397.52,594.624 392.354,590.457 387,586.5C 378.368,568.7 383.201,556.533 401.5,550C 404.5,549.333 407.5,549.333 410.5,550C 413.836,552.165 417.503,553.498 421.5,554C 426.833,560.167 433.499,564 441.5,565.5C 444.25,564.598 446.917,563.431 449.5,562C 453.867,556.966 458.534,552.299 463.5,548C 466.797,547.796 469.797,546.963 472.5,545.5 Z"/></g>
      <g><path style="opacity:1" fill="#774924" d="M 562.5,616.5 C 567.083,616.528 571.25,617.861 575,620.5C 576.462,627.206 573.962,629.54 567.5,627.5C 561.51,628.997 555.51,630.497 549.5,632C 544.677,635.771 539.677,639.271 534.5,642.5C 532.229,646.274 529.396,649.607 526,652.5C 524.862,659.764 523.695,667.264 522.5,675C 522.873,682.712 524.039,690.212 526,697.5C 532.888,704.758 539.555,704.758 546,697.5C 546.333,696.167 546.667,694.833 547,693.5C 549.412,691.429 551.412,689.096 553,686.5C 555.57,684.131 558.404,682.131 561.5,680.5C 562.711,678.578 564.044,676.745 565.5,675C 567.577,674.808 569.577,674.308 571.5,673.5C 575.465,668.781 580.465,667.115 586.5,668.5C 587.646,667.855 588.646,667.022 589.5,666C 594.394,665.971 599.061,665.138 603.5,663.5C 606.591,664.896 609.591,666.396 612.5,668C 614.444,672.035 613.444,675.035 609.5,677C 604.822,676.999 600.155,676.499 595.5,675.5C 593.444,676.048 591.777,677.214 590.5,679C 587.475,679.361 584.475,679.861 581.5,680.5C 578.821,682.687 575.821,684.187 572.5,685C 569.806,688.551 566.472,691.051 562.5,692.5C 562.374,695.468 560.874,697.468 558,698.5C 556.677,703.146 554.177,706.979 550.5,710C 546.734,711.591 543.067,713.424 539.5,715.5C 537.833,714.833 536.167,714.167 534.5,713.5C 532.527,714.331 530.527,714.498 528.5,714C 526.725,712.561 524.725,711.561 522.5,711C 520.53,707.463 518.03,704.296 515,701.5C 512.766,693.844 511.266,686.011 510.5,678C 511.907,671.673 512.74,665.173 513,658.5C 513.667,657.833 514.333,657.167 515,656.5C 515.333,653.5 515.667,650.5 516,647.5C 517.584,643.581 520.25,640.581 524,638.5C 524.346,636.152 525.513,634.319 527.5,633C 530.368,632.139 532.702,630.472 534.5,628C 541.172,624.664 547.838,621.331 554.5,618C 557.365,617.817 560.031,617.317 562.5,616.5 Z"/></g>
      </svg>
    </div>


    <div class="content">
        <h1>お腹を空かせたお化けがいるよ！</h1>
        <p><span class="break">&#x1f35c;&#x1f382;&#x1f32d;&#x1f37f;&#x1f371;&#x1f356;&#x1F963;</span>Emojiのごはんをあげよう！<span class="break">&#x1f967;&#x1f35d;&#x1f354;&#x1f353;&#x1f958;&#x1f36b;&#x1f35b;</span></p>
        <p><span class="break"><i class="fa-solid fa-wifi "></i> 直近の総摂取カロリー：</span><span id="eat-counter">0</span><span id="kcal">Kcal</span><span id="increase"></span></p>
        <form id="eat-form" action="/test" method="POST" onsubmit="return false;">
        <input id="dish" type="text" name="dish" maxlength="40">
        <button id="btn" type="submit">落とす <i class="fa-solid fa-turn-down fa-beat"></i></button>
        </form>
        <p id="obake">
          <!--<img src="obake.png" width="300" height="200">-->
        </p>
        <svg>
          <filter id="turbulence-1">
            <feTurbulence type="fractalNoise" baseFrequency="0.001" numOctaves="2" data-filterId="3" />
            <feDisplacementMap xChannelSelector="R" yChannelSelector="G" in="SourceGraphic" scale="25" />
          </filter>
          <filter id="turbulence-2">
            <feTurbulence type="fractalNoise" baseFrequency="0.0015" numOctaves="2" data-filterId="3" />
            <feDisplacementMap xChannelSelector="R" yChannelSelector="G" in="SourceGraphic" scale="25" />
          </filter>
          <filter id="turbulence-3">
            <feTurbulence type="fractalNoise" baseFrequency="0.002" numOctaves="2" data-filterId="3" />
            <feDisplacementMap xChannelSelector="R" yChannelSelector="G" in="SourceGraphic" scale="25" />
          </filter>
          <filter id="turbulence-4">
            <feTurbulence type="fractalNoise" baseFrequency="0.0025" numOctaves="2" data-filterId="3" />
            <feDisplacementMap xChannelSelector="R" yChannelSelector="G" in="SourceGraphic" scale="25" />
          </filter>
          <filter id="turbulence-5">
            <feTurbulence type="fractalNoise" baseFrequency="0.003" numOctaves="2" data-filterId="3" />
            <feDisplacementMap xChannelSelector="R" yChannelSelector="G" in="SourceGraphic" scale="25" />
          </filter>
        </svg>
    </div>



    <script>

        window.onpageshow = function(event){
            if (event.persisted){
                window.location.reload();
            }
        }; 

        const loader = document.getElementById('loader');
        const btn = document.getElementById("btn");
        const eatForm =  document.getElementById("eat-form");
        const eatCount = document.getElementById("eat-counter");
        const increase = document.getElementById("increase");
        const kcal = document.getElementById("kcal");
        const obake = document.getElementById("obake");

        obake.style.backgroundImage = "url(./eat.png)"
        obake.style.animation = "play-eat 1.7s steps(17)"

        const healthyFoodSet =  new Set(['🍇','🍈','🍉','🍊','🍋','🍌','🍍','🥭','🍎','🍏','🍐','🍑','🍒','🍓','🫐','🫑','🥝','🍅','🥥','🥑','🍆','🥔','🥕','🌽','🌶️','🥒','🥦','🧄','🧅','🥬','🍄','🥜','🫘','🌰','🍞','🥐','🥖','🫓','🧆','🥚','🥣','🥗','🧂','🍠','🍥','🍼','🥛','☕','🫖','🍵','🍶','🍾','🍷','🍸','🍹','🍺','🍻','🥂','🥃','🫗','🥤','🧋','🧃','🧉','🧊','🍽️']);
        const greasyFoodSet =  new Set(['🥨','🥯','🥞','🧇','🧀','🍖','🍗','🥩','🥓','🍔','🍟','🍕','🌭','🥪','🌮','🌯','🫔','🥙','🍳','🥘','🍲','🫕','🍿','🧈','🥫','🍱','🍘','🍙','🍚','🍛','🍜','🍝','🍢','🍣','🍤','🥮','🍡','🥟','🥠','🥡','🦀','🦞','🦐','🦑','🦪','🍦','🍧','🍨','🍩','🍪','🎂','🍰','🧁','🥧','🍫','🍬','🍭','🍮','🍯']);
        const okoSet = new Set('😡');

        eatCount.innerHTML = 0;

        const DURATION = 1.3;
        let isAnimating = false;
        

        function setKcal(setNum){
          if (isAnimating) {
            return
          }
          
          isAnimating = true

          const from = parseInt(eatCount.textContent, 10)
          const to = setNum

          const countTop = eatCount.getBoundingClientRect().top
          const kcalLeft = kcal.getBoundingClientRect().left
          increase.style.top = countTop+'px';
          increase.style.left = kcalLeft-20+'px';
          if(from>0){
              increase.hidden = false; 
              increase.textContent = '+'+(to-from)
              TweenMax.to(increase, DURATION, {
                top: countTop-15+'px',
                left: kcalLeft-15+'px',
                onUpdate : function(){
                    increase.style.opacity = 1-this.progress()
                },
                onComplete: () => {
                  increase.hidden = true;
                  increase.style.top = countTop+'px';
                }
              })
          }

          let obj = {count: from}
          
          TweenMax.to(obj, DURATION, {
            count: to,
            ease: Power3.easeOut,
            onUpdate: () => {
              eatCount.textContent = Math.floor(obj.count)
            },
            onComplete: () => {
              isAnimating = false
            }
          })
        };

        function eatOfCodePoints(str, codePointSet) {
            let count = 0;
            let ateStrList = new Array();
            for (const item of str) {
                if (codePointSet.has(item)) {
                    count++;
                    ateStrList.push('\u0020\u3000')
                }
                else{
                    ateStrList.push(item)
                }
            }
            return {
              ateStr: ateStrList.join(''),
              cnt: count
            };
        }

        function doPostEat(healthyCnt, greasyCnt) {
          setTimeout(function(){ 
            obake.style.transform = " scaleY("+(0.5+healthyCounter.show()/50)+")" + " scaleX("+(0.5+juicyCounter.show()/50)+")";
          }, 1400);
          setTimeout(function(){ 
            obake.style.backgroundImage = "url(./hungry.png)"
            obake.style.animation = "play-hungry 1.6s steps(16) infinite"
          }, 1700);
          fetch('https://eat-meal.fly.dev/eat', {
            method: "POST",
            headers: {
              "Content-Type": "application/json"
            },
            body: JSON.stringify({
              "healthy_cnt": healthyCnt,
              "greasy_cnt": greasyCnt
            })
          })
            .then(response => {
              return response.json();
            })
            .then(json => {
              setKcal(json.total);
              if(healthyCnt>0||greasyCnt>0){
                healthyCounter.add(healthyCnt);
                juicyCounter.add(greasyCnt);
              }

            })
            .catch(e => {
              console.error(e);
            });
        }
        var mealCounter = function() {
          var count = 0;        
          return {
            add: function(num) {
              count+=num;
            },
            show: function() {
              return count
            }
          }
        },
        healthyCounter = mealCounter(),
        juicyCounter = mealCounter();

        document.addEventListener("DOMContentLoaded", function(){
                  doPostEat(0,0);
                  loader.classList.add('fadeOut');
                  setTimeout(function(){ 
                      loader.style.display = "none"; 
                  }, 1500);
              });

      btn.addEventListener("click", function(){
        btn.disabled = true
        var new_element = document.createElement('p')
        new_element.textContent = dish.value
        new_element.className = "create-dish";
        eatForm.before(new_element)
        dish.value = ''
        const obakeTop = obake.getBoundingClientRect().top

        TweenMax.to(new_element, DURATION, {
          top: (obakeTop+40)+'px',
          ease: Bounce.easeOut,
          onComplete: () => {
              var {ateStr,cnt} = eatOfCodePoints(new_element.textContent, okoSet)
              if(cnt>0){
                  obake.style.backgroundImage = "url(./oko.png)"
                  obake.style.animation = "play-oko 1s steps(10) forwards"
                  new_element.textContent = ateStr; 
                  new_element.classList.add('fadeOut');
                  setTimeout(function(){ 
                    window.location.href = 'https://h20-dhmo.github.io/nanya.io/nanya.html'; 
                  }, 820);
                  return;
              }


              var {ateStr, cnt} = eatOfCodePoints(new_element.textContent, healthyFoodSet)
              const healthyCnt = cnt
              var {ateStr, cnt} = eatOfCodePoints(ateStr, greasyFoodSet)
              const greasyCnt = cnt
              if (cnt==0){
                btn.disabled = false
                new_element.classList.add('fadeOut');
                setTimeout(function(){         
                  new_element.remove()                      
                }, 1000);
                return;
              }
              obake.style.backgroundImage = "url(./eat.png)"
              obake.style.animation = "play-eat 1.7s steps(17)"
              doPostEat(healthyCnt,greasyCnt);                          
              setTimeout(function(){                   
                  new_element.textContent = ateStr                  
                  new_element.classList.add('fadeOut');
              }, 700);
              setTimeout(function(){         
                  new_element.remove()                      
              }, 1400);
              setTimeout(function(){
                  btn.disabled = false                    
              }, 1700);
          }
        })
      }, false);

    </script>
</body>

</html>